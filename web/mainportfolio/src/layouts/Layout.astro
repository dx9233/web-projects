---
import lang from "../data/lang.json";
import HeaderSection from "../components/react/HeaderSection.jsx";
// import Header from "../../components/astro/Header.astro";
import Footer from "../components/astro/Footer.astro";

// Определяем язык по URL
const pathname = Astro.url.pathname;
const locale = pathname.startsWith("/en") ? "en" : "ru";
const t = lang[locale];

const {
  title = "Dmitry Lean",
  description = "Software Developer: Frontend, Python, Wordpress",
} = Astro.props;
---

<!doctype html>
<html lang={locale} class="light">
  <head>
    <script>
      (function () {
        const theme = localStorage.getItem("theme");
        if (theme) {
          document.documentElement.setAttribute("data-theme", theme);
        }
      })();
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />

    <!-- Глобальный CSS -->
    <link rel="stylesheet" href="/assets/css/style.css" />

    <!-- Devicon -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css"
    />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <!-- Unicons -->
    <link
      rel="stylesheet"
      href="https://unicons.iconscout.com/release/v4.0.8/css/line.css"
    />

    <!-- Boxicons -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />

    <!-- Swiper -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
  </head>
  <body>
    <!-- <Header menu={t.menu} /> -->
    <HeaderSection menu={t.menu} client:visible />
    <slot />

    <!--<script src="/assets/js/main.js" defer></script>-->
    <!-- <script src="/assets/js/copyright.js" defer></script> -->
    <script src="/assets/js/menu.js" defer></script>

    <Footer
      socialLinks={t.footer.socialLinks}
      legalLinks={t.footer.legalLinks}
      author={t.footer.author}
      rights={t.footer.rights}
    />
  </body>
</html>
